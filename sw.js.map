{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/js/sw/index.js","node_modules/browserify/node_modules/process/browser.js","node_modules/regenerator-runtime/runtime.js","src/changelog.json","src/js/utils/indexeddouchbag.js","src/js/utils/storage.js"],"names":[],"mappings":"AAAA;YC2DA,SAAe,mBAAkB,MAC3B,GAEA,EACA,2HAHc,OAAO,MAAM,cAA3B,EAAK,EAAA,MACL,EAAK,yCAAS,mDACG,MAAM,EAAQ,uBAA/B,GAAQ,EAAA,wCACU,OAAO,KAAK,+BAA9B,GAAS,EAAA,KACb,EAAU,IAAI,EAAS,EAAS,2BACzB,kDAjET,QAAQ,8BAER,IAAI,SAAU,QAAQ,oBASlB,QAAU,QAAQ,wBAAwB,GAAG,QAC7C,YAAc,QAAQ,MAAM,KAAK,EAErC,MAAK,iBAAiB,UAAW,SAAS,aACxC,GAAM,UAAU,SAAM,MAChB,GACA,EAaA,wFAdA,GAAuB,QAAQ,IAAI,oDACrB,OAAO,KAAK,iBAAmB,2BAA7C,GAAK,EAAA,uCACH,EAAM,QACV,KACA,gBACA,cACA,oBACA,aACA,qBACA,oBACA,iBACA,wHAGwB,UAAtB,EAAa,EAAA,KAEZ,GAAiB,EAAc,MAAM,KAAK,KAAO,QAAQ,MAAM,KAAK,IAEnE,KAAK,aAAa,KAAK,+DAKjC,IAAI,iBACF,iBAAmB,YAGrB,MAAK,iBAAiB,WAAY,SAAS,aACzC,GAAM,UAAU,SAAM,MAGhB,GAAU,EAAA,EAAA,EAAA,EAAA,EACL,2HADc,OAAO,eAA1B,EAAU,EAAA,mCACQ,EAAU,OAAA,8DAAvB,EAAS,EAAA,MACX,WAAW,KAAK,GAAU,2DAC3B,eAAe,QAAQ,KAAc,EAAE,2DACnC,OAAM,OAAQ,sTAIlB,QAAQ,IAAI,iBAAkB,uFAaxC,KAAK,iBAAiB,QAAS,SAAS,GACtC,GAAI,GAAM,GAAI,KAAI,EAAM,QAAQ,IAEhB,sBAAZ,EAAI,KACN,EAAM,YAAY,kBAAkB,EAAM,UAG1C,EAAM,YACJ,OAAO,MAAM,EAAM,SAAS,KAAK,SAAA,SAAK,IAAK,MAAM,EAAM;;;;AC5E7D;;ACAA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/LA,yHAEA,QAAS,kBAAiB,GACxB,MAAO,IAAI,SAAQ,SAAS,EAAS,GACnC,QAAS,GAAU,GACjB,EAAQ,EAAI,QACZ,IAEF,QAAS,GAAQ,GACf,EAAO,EAAI,OACX,IAEF,QAAS,KACP,EAAI,oBAAoB,WAAY,GACpC,EAAI,oBAAoB,UAAW,GACnC,EAAI,oBAAoB,QAAS,GACjC,EAAI,oBAAoB,QAAS,GAEnC,EAAI,iBAAiB,WAAY,GACjC,EAAI,iBAAiB,UAAW,GAChC,EAAI,iBAAiB,QAAS,GAC9B,EAAI,iBAAiB,QAAS,yQAI5B,iBAAgB,WACT,QADP,GACQ,EAAM,EAAS,wBADvB,EAEF,IAAI,GAAU,UAAU,KAAK,EAAM,EACnC,MAAK,MAAQ,iBAAiB,GAC9B,EAAQ,gBAAkB,SAAS,GACjC,EAAgB,EAAQ,OAAQ,EAAM,iCALtC,4BASO,SAAC,EAAQ,EAAgB,GAClC,MAAO,MAAK,MAAM,KAAK,SAAS,GAC9B,GAAI,GAAO,UAEP,GAAe,MACjB,EAAW,EAEJ,IACP,EAAO,EAGT,IAGI,GAHA,EAAK,EAAG,YAAY,EAAQ,GAC5B,EAAM,EAAS,EAAI,GACnB,EAAU,iBAAiB,EAG/B,OAAK,IAKH,EADE,EAAI,IAAM,UAAY,GAAI,GACd,QAAQ,IAAI,EAAI,IAAI,mBAGpB,iBAAiB,GAG1B,EAAQ,KAAK,WAClB,MAAO,MAXA,uBAgBV,SAAC,EAAO,GACT,MAAO,MAAK,YAAY,EAAO,SAAS,GACtC,MAAO,GAAG,YAAY,GAAO,IAAI,wBAIlC,SAAC,EAAO,EAAK,GACd,MAAO,MAAK,YAAY,EAAO,YAAa,SAAS,GACnD,EAAG,YAAY,GAAO,IAAI,EAAO,2BAI/B,SAAC,EAAO,GACZ,MAAO,MAAK,YAAY,EAAO,YAAa,SAAS,GACnD,EAAG,YAAY,GAAM,OAAQ,SAxD7B,IA6DN,QAAO,QAAU;;;;YClFjB,SAAS,UAMP,MALK,OACH,IAAM,GAAI,KAAI,cAAe,EAAG,SAAS,GACvC,EAAG,kBAAkB,aAGlB,IAVT,GAAI,KAAM,QAAQ,qBACd,GAYA,MAAK,UACP,OAAO,SACL,IAAK,SAAA,SAAO,UAAS,IAAI,SAAU,IACnC,IAAK,SAAC,EAAK,SAAQ,UAAS,IAAI,SAAU,EAAK,IAC/C,OAAQ,SAAA,SAAO,UAAQ,OAAQ,SAAU,KAI3C,OAAO,SACL,IAAK,SAAA,SAAO,SAAQ,QAAQ,aAAa,QAAQ,KACjD,IAAK,SAAC,EAAK,SAAQ,SAAQ,QAAQ,aAAa,QAAQ,EAAK,KAC7D,OAAQ,SAAA,SAAO,SAAQ,QAAQ,aAAa,WAAW","file":"sw.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","require('regenerator-runtime/runtime');\n\nvar storage = require('../utils/storage');\n\n// TODO: use come kind of semver lib?\n// Pattern here is\n// a.b.c\n// a: version-isolated change, don't let both versions run together\n// b: new feature\n// c: bug fix\n// TODO: find a way to do this without bringing the whole log in\nvar version = require('../../changelog.json')[0].version;\nvar cacheVerion = version.split('.')[0];\n\nself.addEventListener('install', function(event) {\n  event.waitUntil(async _ => {\n    var activeVersionPromise = storage.get('active-version');\n    var cache = await caches.open('svgomg-static-' + cacheVerion);\n    await cache.addAll([\n      './',\n      'imgs/icon.png',\n      'css/all.css',\n      'js/gzip-worker.js',\n      'js/page.js',\n      'js/prism-worker.js',\n      'js/svgo-worker.js',\n      'changelog.json',\n      'https://fonts.googleapis.com/css?family=Roboto:400,700|Inconsolata'\n    ]);\n\n    var activeVersion = await activeVersionPromise;\n\n    if (!activeVersion || activeVersion.split('.')[0] === version.split('.')[0]) {\n      // wrapping in an if while Chrome 40 is still around.\n      if (self.skipWaiting) self.skipWaiting();\n    }\n  }());\n});\n\nvar expectedCaches = [\n  'svgomg-static-' + cacheVerion,\n];\n\nself.addEventListener('activate', function(event) {\n  event.waitUntil(async _ => {\n    // remove caches beginning \"svgomg-\" that aren't in\n    // expectedCaches\n    var cacheNames = await caches.keys();\n    for (var cacheName of cacheNames) {\n      if (!/^svgomg-/.test(cacheName)) continue;\n      if (expectedCaches.indexOf(cacheName) == -1) {\n        await caches.delete(cacheName);\n      }\n    }\n\n    await storage.set('active-version', version);\n  }());\n});\n\nasync function handleFontRequest(request) {\n  var match = await caches.match(request);\n  if (match) return match;\n  var response = await fetch(request.clone());\n  var fontCache = await caches.open('svgomg-fonts');\n  fontCache.put(request, response.clone());\n  return response;\n}\n\nself.addEventListener('fetch', function(event) {\n  var url = new URL(event.request.url);\n\n  if (url.host == 'fonts.gstatic.com') {\n    event.respondWith(handleFontRequest(event.request));\n  }\n  else {\n    event.respondWith(\n      caches.match(event.request).then(r => r || fetch(event.request))\n    );\n  }\n});\n","function drainQueue(){if(!draining){draining=!0;for(var e,o=queue.length;o;){e=queue,queue=[];for(var r=-1;++r<o;)e[r]();o=queue.length}draining=!1}}function noop(){}var process=module.exports={},queue=[],draining=!1;process.nextTick=function(e){queue.push(e),draining||setTimeout(drainQueue,0)},process.title=\"browser\",process.browser=!0,process.env={},process.argv=[],process.version=\"\",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error(\"process.binding is not supported\")},process.cwd=function(){return\"/\"},process.chdir=function(e){throw new Error(\"process.chdir is not supported\")},process.umask=function(){return 0};","(function (process,global){\n!function(t){\"use strict\";function r(t,r,e,o){var i=Object.create((r||n).prototype),a=new h(o||[]);return i._invoke=f(t,e,a),i}function e(t,r,e){try{return{type:\"normal\",arg:t.call(r,e)}}catch(t){return{type:\"throw\",arg:t}}}function n(){}function o(){}function i(){}function a(t){[\"next\",\"throw\",\"return\"].forEach(function(r){t[r]=function(t){return this._invoke(r,t)}})}function c(t){this.arg=t}function u(t){function r(n,o,i,a){var u=e(t[n],t,o);if(\"throw\"!==u.type){var f=u.arg,l=f.value;return l instanceof c?Promise.resolve(l.arg).then(function(t){r(\"next\",t,i,a)},function(t){r(\"throw\",t,i,a)}):Promise.resolve(l).then(function(t){f.value=t,i(f)},a)}a(u.arg)}function n(t,e){function n(){return new Promise(function(n,o){r(t,e,n,o)})}return o=o?o.then(n,n):n()}\"object\"==typeof process&&process.domain&&(r=process.domain.bind(r));var o;this._invoke=n}function f(t,r,n){var o=b;return function(i,a){if(o===j)throw new Error(\"Generator is already running\");if(o===_){if(\"throw\"===i)throw a;return y()}for(;;){var c=n.delegate;if(c){if(\"return\"===i||\"throw\"===i&&c.iterator[i]===v){n.delegate=null;var u=c.iterator.return;if(u){var f=e(u,c.iterator,a);if(\"throw\"===f.type){i=\"throw\",a=f.arg;continue}}if(\"return\"===i)continue}var f=e(c.iterator[i],c.iterator,a);if(\"throw\"===f.type){n.delegate=null,i=\"throw\",a=f.arg;continue}i=\"next\",a=v;var l=f.arg;if(!l.done)return o=E,l;n[c.resultName]=l.value,n.next=c.nextLoc,n.delegate=null}if(\"next\"===i)n.sent=n._sent=a;else if(\"throw\"===i){if(o===b)throw o=_,a;n.dispatchException(a)&&(i=\"next\",a=v)}else\"return\"===i&&n.abrupt(\"return\",a);o=j;var f=e(t,r,n);if(\"normal\"===f.type){o=n.done?_:E;var l={value:f.arg,done:n.done};if(f.arg!==k)return l;n.delegate&&\"next\"===i&&(a=v)}else\"throw\"===f.type&&(o=_,i=\"throw\",a=f.arg)}}}function l(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function s(t){var r=t.completion||{};r.type=\"normal\",delete r.arg,t.completion=r}function h(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(l,this),this.reset(!0)}function p(t){if(t){var r=t[w];if(r)return r.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,n=function r(){for(;++e<t.length;)if(g.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=v,r.done=!0,r};return n.next=n}}return{next:y}}function y(){return{value:v,done:!0}}var v,g=Object.prototype.hasOwnProperty,d=\"function\"==typeof Symbol?Symbol:{},w=d.iterator||\"@@iterator\",m=d.toStringTag||\"@@toStringTag\",L=\"object\"==typeof module,x=t.regeneratorRuntime;if(x)return void(L&&(module.exports=x));x=t.regeneratorRuntime=L?module.exports:{},x.wrap=r;var b=\"suspendedStart\",E=\"suspendedYield\",j=\"executing\",_=\"completed\",k={},G=i.prototype=n.prototype;o.prototype=G.constructor=i,i.constructor=o,i[m]=o.displayName=\"GeneratorFunction\",x.isGeneratorFunction=function(t){var r=\"function\"==typeof t&&t.constructor;return!!r&&(r===o||\"GeneratorFunction\"===(r.displayName||r.name))},x.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,m in t||(t[m]=\"GeneratorFunction\")),t.prototype=Object.create(G),t},x.awrap=function(t){return new c(t)},a(u.prototype),x.async=function(t,e,n,o){var i=new u(r(t,e,n,o));return x.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},a(G),G[w]=function(){return this},G[m]=\"Generator\",G.toString=function(){return\"[object Generator]\"},x.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},x.values=p,h.prototype={constructor:h,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.tryEntries.forEach(s),!t)for(var r in this)\"t\"===r.charAt(0)&&g.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=v)},stop:function(){this.done=!0;var t=this.tryEntries[0],r=t.completion;if(\"throw\"===r.type)throw r.arg;return this.rval},dispatchException:function(t){function r(r,n){return i.type=\"throw\",i.arg=t,e.next=r,!!n}if(this.done)throw t;for(var e=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if(\"root\"===o.tryLoc)return r(\"end\");if(o.tryLoc<=this.prev){var a=g.call(o,\"catchLoc\"),c=g.call(o,\"finallyLoc\");if(a&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error(\"try statement without catch or finally\");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&g.call(n,\"finallyLoc\")&&this.prev<n.finallyLoc){var o=n;break}}o&&(\"break\"===t||\"continue\"===t)&&o.tryLoc<=r&&r<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=r,o?this.next=o.finallyLoc:this.complete(i),k},complete:function(t,r){if(\"throw\"===t.type)throw t.arg;\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=t.arg,this.next=\"end\"):\"normal\"===t.type&&r&&(this.next=r)},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),s(e),k}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if(\"throw\"===n.type){var o=n.arg;s(e)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,r,e){return this.delegate={iterator:p(t),resultName:r,nextLoc:e},k}}}(\"object\"==typeof global?global:\"object\"==typeof window?window:\"object\"==typeof self?self:this);\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9yZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LHIsZSxvKXt2YXIgaT1PYmplY3QuY3JlYXRlKChyfHxuKS5wcm90b3R5cGUpLGE9bmV3IGgob3x8W10pO3JldHVybiBpLl9pbnZva2U9Zih0LGUsYSksaX1mdW5jdGlvbiBlKHQscixlKXt0cnl7cmV0dXJue3R5cGU6XCJub3JtYWxcIixhcmc6dC5jYWxsKHIsZSl9fWNhdGNoKHQpe3JldHVybnt0eXBlOlwidGhyb3dcIixhcmc6dH19fWZ1bmN0aW9uIG4oKXt9ZnVuY3Rpb24gbygpe31mdW5jdGlvbiBpKCl7fWZ1bmN0aW9uIGEodCl7W1wibmV4dFwiLFwidGhyb3dcIixcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3Rbcl09ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2ludm9rZShyLHQpfX0pfWZ1bmN0aW9uIGModCl7dGhpcy5hcmc9dH1mdW5jdGlvbiB1KHQpe2Z1bmN0aW9uIHIobixvLGksYSl7dmFyIHU9ZSh0W25dLHQsbyk7aWYoXCJ0aHJvd1wiIT09dS50eXBlKXt2YXIgZj11LmFyZyxsPWYudmFsdWU7cmV0dXJuIGwgaW5zdGFuY2VvZiBjP1Byb21pc2UucmVzb2x2ZShsLmFyZykudGhlbihmdW5jdGlvbih0KXtyKFwibmV4dFwiLHQsaSxhKX0sZnVuY3Rpb24odCl7cihcInRocm93XCIsdCxpLGEpfSk6UHJvbWlzZS5yZXNvbHZlKGwpLnRoZW4oZnVuY3Rpb24odCl7Zi52YWx1ZT10LGkoZil9LGEpfWEodS5hcmcpfWZ1bmN0aW9uIG4odCxlKXtmdW5jdGlvbiBuKCl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKG4sbyl7cih0LGUsbixvKX0pfXJldHVybiBvPW8/by50aGVuKG4sbik6bigpfVwib2JqZWN0XCI9PXR5cGVvZiBwcm9jZXNzJiZwcm9jZXNzLmRvbWFpbiYmKHI9cHJvY2Vzcy5kb21haW4uYmluZChyKSk7dmFyIG87dGhpcy5faW52b2tlPW59ZnVuY3Rpb24gZih0LHIsbil7dmFyIG89YjtyZXR1cm4gZnVuY3Rpb24oaSxhKXtpZihvPT09ail0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO2lmKG89PT1fKXtpZihcInRocm93XCI9PT1pKXRocm93IGE7cmV0dXJuIHkoKX1mb3IoOzspe3ZhciBjPW4uZGVsZWdhdGU7aWYoYyl7aWYoXCJyZXR1cm5cIj09PWl8fFwidGhyb3dcIj09PWkmJmMuaXRlcmF0b3JbaV09PT12KXtuLmRlbGVnYXRlPW51bGw7dmFyIHU9Yy5pdGVyYXRvci5yZXR1cm47aWYodSl7dmFyIGY9ZSh1LGMuaXRlcmF0b3IsYSk7aWYoXCJ0aHJvd1wiPT09Zi50eXBlKXtpPVwidGhyb3dcIixhPWYuYXJnO2NvbnRpbnVlfX1pZihcInJldHVyblwiPT09aSljb250aW51ZX12YXIgZj1lKGMuaXRlcmF0b3JbaV0sYy5pdGVyYXRvcixhKTtpZihcInRocm93XCI9PT1mLnR5cGUpe24uZGVsZWdhdGU9bnVsbCxpPVwidGhyb3dcIixhPWYuYXJnO2NvbnRpbnVlfWk9XCJuZXh0XCIsYT12O3ZhciBsPWYuYXJnO2lmKCFsLmRvbmUpcmV0dXJuIG89RSxsO25bYy5yZXN1bHROYW1lXT1sLnZhbHVlLG4ubmV4dD1jLm5leHRMb2Msbi5kZWxlZ2F0ZT1udWxsfWlmKFwibmV4dFwiPT09aSluLnNlbnQ9bi5fc2VudD1hO2Vsc2UgaWYoXCJ0aHJvd1wiPT09aSl7aWYobz09PWIpdGhyb3cgbz1fLGE7bi5kaXNwYXRjaEV4Y2VwdGlvbihhKSYmKGk9XCJuZXh0XCIsYT12KX1lbHNlXCJyZXR1cm5cIj09PWkmJm4uYWJydXB0KFwicmV0dXJuXCIsYSk7bz1qO3ZhciBmPWUodCxyLG4pO2lmKFwibm9ybWFsXCI9PT1mLnR5cGUpe289bi5kb25lP186RTt2YXIgbD17dmFsdWU6Zi5hcmcsZG9uZTpuLmRvbmV9O2lmKGYuYXJnIT09aylyZXR1cm4gbDtuLmRlbGVnYXRlJiZcIm5leHRcIj09PWkmJihhPXYpfWVsc2VcInRocm93XCI9PT1mLnR5cGUmJihvPV8saT1cInRocm93XCIsYT1mLmFyZyl9fX1mdW5jdGlvbiBsKHQpe3ZhciByPXt0cnlMb2M6dFswXX07MSBpbiB0JiYoci5jYXRjaExvYz10WzFdKSwyIGluIHQmJihyLmZpbmFsbHlMb2M9dFsyXSxyLmFmdGVyTG9jPXRbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKHIpfWZ1bmN0aW9uIHModCl7dmFyIHI9dC5jb21wbGV0aW9ufHx7fTtyLnR5cGU9XCJub3JtYWxcIixkZWxldGUgci5hcmcsdC5jb21wbGV0aW9uPXJ9ZnVuY3Rpb24gaCh0KXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6XCJyb290XCJ9XSx0LmZvckVhY2gobCx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBwKHQpe2lmKHQpe3ZhciByPXRbd107aWYocilyZXR1cm4gci5jYWxsKHQpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQubmV4dClyZXR1cm4gdDtpZighaXNOYU4odC5sZW5ndGgpKXt2YXIgZT0tMSxuPWZ1bmN0aW9uIHIoKXtmb3IoOysrZTx0Lmxlbmd0aDspaWYoZy5jYWxsKHQsZSkpcmV0dXJuIHIudmFsdWU9dFtlXSxyLmRvbmU9ITEscjtyZXR1cm4gci52YWx1ZT12LHIuZG9uZT0hMCxyfTtyZXR1cm4gbi5uZXh0PW59fXJldHVybntuZXh0Onl9fWZ1bmN0aW9uIHkoKXtyZXR1cm57dmFsdWU6dixkb25lOiEwfX12YXIgdixnPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksZD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LHc9ZC5pdGVyYXRvcnx8XCJAQGl0ZXJhdG9yXCIsbT1kLnRvU3RyaW5nVGFnfHxcIkBAdG9TdHJpbmdUYWdcIixMPVwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUseD10LnJlZ2VuZXJhdG9yUnVudGltZTtpZih4KXJldHVybiB2b2lkKEwmJihtb2R1bGUuZXhwb3J0cz14KSk7eD10LnJlZ2VuZXJhdG9yUnVudGltZT1MP21vZHVsZS5leHBvcnRzOnt9LHgud3JhcD1yO3ZhciBiPVwic3VzcGVuZGVkU3RhcnRcIixFPVwic3VzcGVuZGVkWWllbGRcIixqPVwiZXhlY3V0aW5nXCIsXz1cImNvbXBsZXRlZFwiLGs9e30sRz1pLnByb3RvdHlwZT1uLnByb3RvdHlwZTtvLnByb3RvdHlwZT1HLmNvbnN0cnVjdG9yPWksaS5jb25zdHJ1Y3Rvcj1vLGlbbV09by5kaXNwbGF5TmFtZT1cIkdlbmVyYXRvckZ1bmN0aW9uXCIseC5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKHQpe3ZhciByPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQuY29uc3RydWN0b3I7cmV0dXJuISFyJiYocj09PW98fFwiR2VuZXJhdG9yRnVuY3Rpb25cIj09PShyLmRpc3BsYXlOYW1lfHxyLm5hbWUpKX0seC5tYXJrPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsaSk6KHQuX19wcm90b19fPWksbSBpbiB0fHwodFttXT1cIkdlbmVyYXRvckZ1bmN0aW9uXCIpKSx0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEcpLHR9LHguYXdyYXA9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBjKHQpfSxhKHUucHJvdG90eXBlKSx4LmFzeW5jPWZ1bmN0aW9uKHQsZSxuLG8pe3ZhciBpPW5ldyB1KHIodCxlLG4sbykpO3JldHVybiB4LmlzR2VuZXJhdG9yRnVuY3Rpb24oZSk/aTppLm5leHQoKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRvbmU/dC52YWx1ZTppLm5leHQoKX0pfSxhKEcpLEdbd109ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sR1ttXT1cIkdlbmVyYXRvclwiLEcudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgR2VuZXJhdG9yXVwifSx4LmtleXM9ZnVuY3Rpb24odCl7dmFyIHI9W107Zm9yKHZhciBlIGluIHQpci5wdXNoKGUpO3JldHVybiByLnJldmVyc2UoKSxmdW5jdGlvbiBlKCl7Zm9yKDtyLmxlbmd0aDspe3ZhciBuPXIucG9wKCk7aWYobiBpbiB0KXJldHVybiBlLnZhbHVlPW4sZS5kb25lPSExLGV9cmV0dXJuIGUuZG9uZT0hMCxlfX0seC52YWx1ZXM9cCxoLnByb3RvdHlwZT17Y29uc3RydWN0b3I6aCxyZXNldDpmdW5jdGlvbih0KXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD12LHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocyksIXQpZm9yKHZhciByIGluIHRoaXMpXCJ0XCI9PT1yLmNoYXJBdCgwKSYmZy5jYWxsKHRoaXMscikmJiFpc05hTigrci5zbGljZSgxKSkmJih0aGlzW3JdPXYpfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciB0PXRoaXMudHJ5RW50cmllc1swXSxyPXQuY29tcGxldGlvbjtpZihcInRocm93XCI9PT1yLnR5cGUpdGhyb3cgci5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihyLG4pe3JldHVybiBpLnR5cGU9XCJ0aHJvd1wiLGkuYXJnPXQsZS5uZXh0PXIsISFufWlmKHRoaXMuZG9uZSl0aHJvdyB0O2Zvcih2YXIgZT10aGlzLG49dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO24+PTA7LS1uKXt2YXIgbz10aGlzLnRyeUVudHJpZXNbbl0saT1vLmNvbXBsZXRpb247aWYoXCJyb290XCI9PT1vLnRyeUxvYylyZXR1cm4gcihcImVuZFwiKTtpZihvLnRyeUxvYzw9dGhpcy5wcmV2KXt2YXIgYT1nLmNhbGwobyxcImNhdGNoTG9jXCIpLGM9Zy5jYWxsKG8sXCJmaW5hbGx5TG9jXCIpO2lmKGEmJmMpe2lmKHRoaXMucHJldjxvLmNhdGNoTG9jKXJldHVybiByKG8uY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxvLmZpbmFsbHlMb2MpcmV0dXJuIHIoby5maW5hbGx5TG9jKX1lbHNlIGlmKGEpe2lmKHRoaXMucHJldjxvLmNhdGNoTG9jKXJldHVybiByKG8uY2F0Y2hMb2MsITApfWVsc2V7aWYoIWMpdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7aWYodGhpcy5wcmV2PG8uZmluYWxseUxvYylyZXR1cm4gcihvLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24odCxyKXtmb3IodmFyIGU9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2U+PTA7LS1lKXt2YXIgbj10aGlzLnRyeUVudHJpZXNbZV07aWYobi50cnlMb2M8PXRoaXMucHJldiYmZy5jYWxsKG4sXCJmaW5hbGx5TG9jXCIpJiZ0aGlzLnByZXY8bi5maW5hbGx5TG9jKXt2YXIgbz1uO2JyZWFrfX1vJiYoXCJicmVha1wiPT09dHx8XCJjb250aW51ZVwiPT09dCkmJm8udHJ5TG9jPD1yJiZyPD1vLmZpbmFsbHlMb2MmJihvPW51bGwpO3ZhciBpPW8/by5jb21wbGV0aW9uOnt9O3JldHVybiBpLnR5cGU9dCxpLmFyZz1yLG8/dGhpcy5uZXh0PW8uZmluYWxseUxvYzp0aGlzLmNvbXBsZXRlKGkpLGt9LGNvbXBsZXRlOmZ1bmN0aW9uKHQscil7aWYoXCJ0aHJvd1wiPT09dC50eXBlKXRocm93IHQuYXJnO1wiYnJlYWtcIj09PXQudHlwZXx8XCJjb250aW51ZVwiPT09dC50eXBlP3RoaXMubmV4dD10LmFyZzpcInJldHVyblwiPT09dC50eXBlPyh0aGlzLnJ2YWw9dC5hcmcsdGhpcy5uZXh0PVwiZW5kXCIpOlwibm9ybWFsXCI9PT10LnR5cGUmJnImJih0aGlzLm5leHQ9cil9LGZpbmlzaDpmdW5jdGlvbih0KXtmb3IodmFyIHI9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3I+PTA7LS1yKXt2YXIgZT10aGlzLnRyeUVudHJpZXNbcl07aWYoZS5maW5hbGx5TG9jPT09dClyZXR1cm4gdGhpcy5jb21wbGV0ZShlLmNvbXBsZXRpb24sZS5hZnRlckxvYykscyhlKSxrfX0sY2F0Y2g6ZnVuY3Rpb24odCl7Zm9yKHZhciByPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtyPj0wOy0tcil7dmFyIGU9dGhpcy50cnlFbnRyaWVzW3JdO2lmKGUudHJ5TG9jPT09dCl7dmFyIG49ZS5jb21wbGV0aW9uO2lmKFwidGhyb3dcIj09PW4udHlwZSl7dmFyIG89bi5hcmc7cyhlKX1yZXR1cm4gb319dGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKHQscixlKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6cCh0KSxyZXN1bHROYW1lOnIsbmV4dExvYzplfSxrfX19KFwib2JqZWN0XCI9PXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3c/d2luZG93Olwib2JqZWN0XCI9PXR5cGVvZiBzZWxmP3NlbGY6dGhpcyk7Il19","module.exports=[\n  {\n    \"version\": \"1.8.0\",\n    \"changes\": [\n      \"New icon (thanks to Anna Debenham)\"\n    ]\n  },\n  {\n    \"version\": \"1.7.0\",\n    \"changes\": [\n      \"Button to change background color (thanks to Una Kravets)\"\n    ]\n  },\n  {\n    \"version\": \"1.6.1\",\n    \"changes\": [\n      \"HTMLmin broke my stuff\"\n    ]\n  },\n  {\n    \"version\": \"1.6.0\",\n    \"changes\": [\n      \"Copy-to-clipboard button\"\n    ]\n  },\n  {\n    \"version\": \"1.5.1\",\n    \"changes\": [\n      \"Minor CSS change\"\n    ]\n  },\n  {\n    \"version\": \"1.5.0\",\n    \"changes\": [\n      \"Updating SVGO\"\n    ]\n  },\n  {\n    \"version\": \"1.4.3\",\n    \"changes\": [\n      \"Fixing layout in Chrome beta.\"\n    ]\n  },\n  {\n    \"version\": \"1.4.2\",\n    \"changes\": [\n      \"Better cache cleanup.\"\n    ]\n  },\n  {\n    \"version\": \"1.4.1\",\n    \"changes\": [\n      \"Fixes to 'remove hidden items'.\"\n    ]\n  },\n  {\n    \"version\": \"1.4.0\",\n    \"changes\": [\n      \"Updated to SVGO v0.5.1, bringing:\",\n      \"Remove useless defs option.\",\n      \"Round number in number lists.\",\n      \"And loads of fixes!\"\n    ]\n  },\n  {\n    \"version\": \"1.3.0\",\n    \"changes\": [\n      \"Using manifest spec for icons etc.\"\n    ]\n  },\n  {\n    \"version\": \"1.2.4\",\n    \"changes\": [\n      \"Download button now works in IE.\"\n    ]\n  },\n  {\n    \"version\": \"1.2.3\",\n    \"changes\": [\n      \"Fixing bug introduced by browserify.\"\n    ]\n  },\n  {\n    \"version\": \"1.2.2\",\n    \"changes\": [\n      \"Better font loading.\"\n    ]\n  },\n  {\n    \"version\": \"1.2.1\",\n    \"changes\": [\n      \"Lots of performance improvements.\"\n    ]\n  },\n  {\n    \"version\": \"1.2.0\",\n    \"changes\": [\n      \"Code view.\",\n      \"Prettify code option.\"\n    ]\n  },\n  {\n    \"version\": \"1.1.7\",\n    \"changes\": [\n      \"Performance improvements.\"\n    ]\n  },\n  {\n    \"version\": \"1.1.6\",\n    \"changes\": [\n      \"Fix zooming with mouse wheels.\"\n    ]\n  },\n  {\n    \"version\": \"1.1.5\",\n    \"changes\": [\n      \"Removing erroneous scrollbars in Firefox.\"\n    ]\n  },\n  {\n    \"version\": \"1.1.4\",\n    \"changes\": [\n      \"Fixed 'about' link.\"\n    ]\n  },\n  {\n    \"version\": \"1.1.3\",\n    \"changes\": [\n      \"Reverting some painting stuff until I get a handle on the performance.\",\n      \"Using simpler demo SVG.\"\n    ]\n  },\n  {\n    \"version\": \"1.1.2\",\n    \"changes\": [\n      \"Sharper rendering on desktop Chrome & Safari.\",\n      \"Fixed right mouse button issue.\"\n    ]\n  },\n  {\n    \"version\": \"1.1.1\",\n    \"changes\": [\n      \"Reset zooming on image load.\"\n    ]\n  },\n  {\n    \"version\": \"1.1.0\",\n    \"changes\": [\n      \"Click/touch and drag panning.\",\n      \"Pinch zooming.\",\n      \"Wheel zooming.\"\n    ]\n  },\n  {\n    \"version\": \"1.0.4\",\n    \"changes\": [\n      \"Fixing checkered background in IE.\",\n      \"Improving slider touch interaction.\"\n    ]\n  },\n  {\n    \"version\": \"1.0.3\",\n    \"changes\": [\n      \"Fixing SVG output in Firefox.\"\n    ]\n  },\n  {\n    \"version\": \"1.0.2\",\n    \"changes\": [\n      \"Caching fonts for offline use.\",\n      \"Removing tap delay on iPhone/iPad.\",\n      \"Fixing iOS add-to-homescreen.\",\n      \"Better mobile demo image.\"\n    ]\n  },\n  {\n    \"version\": \"1.0.1\",\n    \"changes\": [\n      \"Layout fixes.\",\n      \"Better mobile keyboard handling.\",\n      \"A lighter demo SVG for mobile.\",\n      \"Fixing drag & drop.\"\n    ]\n  },\n  {\n    \"version\": \"1.0.0\",\n    \"changes\": [\n      \"First release.\"\n    ]\n  }\n]\n","'use strict';\n\nfunction promisifyRequest(obj) {\n  return new Promise(function(resolve, reject) {\n    function onsuccess(event) {\n      resolve(obj.result);\n      unlisten();\n    }\n    function onerror(event) {\n      reject(obj.error);\n      unlisten();\n    }\n    function unlisten() {\n      obj.removeEventListener('complete', onsuccess);\n      obj.removeEventListener('success', onsuccess);\n      obj.removeEventListener('error', onerror);\n      obj.removeEventListener('abort', onerror);\n    }\n    obj.addEventListener('complete', onsuccess);\n    obj.addEventListener('success', onsuccess);\n    obj.addEventListener('error', onerror);\n    obj.addEventListener('abort', onerror);\n  });\n}\n\nclass IndexedDouchebag {\n  constructor(name, version, upgradeCallback) {\n    var request = indexedDB.open(name, version);\n    this.ready = promisifyRequest(request);\n    request.onupgradeneeded = function(event) {\n      upgradeCallback(request.result, event.oldVersion);\n    };\n  }\n\n  transaction(stores, modeOrCallback, callback) {\n    return this.ready.then(function(db) {\n      var mode = 'readonly';\n\n      if (modeOrCallback.apply) {\n        callback = modeOrCallback;\n      }\n      else if (modeOrCallback) {\n        mode = modeOrCallback;\n      }\n\n      var tx = db.transaction(stores, mode);\n      var val = callback(tx, db);\n      var promise = promisifyRequest(tx);\n      var readPromise;\n\n      if (!val) {\n        return promise;\n      }\n\n      if (val[0] && 'result' in val[0]) {\n        readPromise = Promise.all(val.map(promisifyRequest));\n      }\n      else {\n        readPromise = promisifyRequest(val);\n      }\n\n      return promise.then(function() {\n        return readPromise;\n      });\n    });\n  };\n\n  get(store, key) {\n    return this.transaction(store, function(tx) {\n      return tx.objectStore(store).get(key);\n    });\n  };\n\n  put(store, key, value) {\n    return this.transaction(store, 'readwrite', function(tx) {\n      tx.objectStore(store).put(value, key);\n    });\n  };\n\n  delete(store, key) {\n    return this.transaction(store, 'readwrite', function(tx) {\n      tx.objectStore(store).delete(key);\n    });\n  };\n}\n\nmodule.exports = IndexedDouchebag;","var Idb = require('./indexeddouchbag');\nvar idb;\n\n// avoid opening idb until first call\nfunction getIdb() {\n  if (!idb) {\n    idb = new Idb('svgo-keyval', 1, function(db) {\n      db.createObjectStore('keyval');\n    });\n  }\n  return idb;\n}\n\nif (self.indexedDB) {\n  module.exports = {\n    get: key => getIdb().get('keyval', key),\n    set: (key, val) => getIdb().put('keyval', key, val),\n    delete: key => getIdb().delete('keyval', key)\n  };\n}\nelse {\n  module.exports = {\n    get: key => Promise.resolve(localStorage.getItem(key)),\n    set: (key, val) => Promise.resolve(localStorage.setItem(key, val)),\n    delete: key => Promise.resolve(localStorage.removeItem(key))\n  };\n}"]}